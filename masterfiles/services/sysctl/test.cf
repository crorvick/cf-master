bundle common sysctl_test_file_control
{
  vars:
      "masterfiles" string => "/home/nickanderson/CFEngine/masterfiles";
      "inputs"
        slist =>
          {
          "$(masterfiles)/lib/$(sys.cf_version_major).$(sys.cf_version_minor)/stdlib.cf",
          "$(this.promise_dirname)/main.cf",
          "$(this.promise_dirname)/test_example_settings.cf",
          };
}

body common control
{
    inputs => { @(sysctl_test_file_control.inputs) };
    bundlesequence => { "test" };
}


bundle agent test
{
  methods:
      "Sysctl" usebundle => manage_sysctl_conf_selective_present("example_sysctl_settings");
}
